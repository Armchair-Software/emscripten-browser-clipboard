# Emscripten Browser Clipboard Library

Header-only C++ library providing easy browser clipboard access, for programs built with Emscripten.

Intended for use with Emscripten code, this enables copy and paste functionality to and from the browser's clipboard, into your program.

There are two separate ways to copy data to the clipboard - a callback, or an instantaneous function - the right choice will depend on your use case.

This offers several advantages over existing solutions - it uses modern JS APIs, and there is no need to create text elements alongside your canvas on your page HTML, or make any other changes to the page content.  Everything is handled by a single include in your C++ code.


## Functionality

* `emscripten_browser_clipboard::paste()`
* `emscripten_browser_clipboard::copy()` (callback and instantaneous overloads)

### Paste

The `paste` function sets a callback which handles paste events generated by the browser.

If you want your callback to communicate with your program, the function accepts an optional void pointer which is passed on to your callback.  Use this to pass arbitrary data of your own to your callback, if needed.

#### Example

```cpp
#include <emscripten_browser_clipboard.h>

// ...

  // set a lambda as a callback to handle paste data:
  emscripten_browser_clipboard::paste([](std::string const &paste_data, void *callback_data [[maybe_unused]]){
    std::cout << "Copied clipboard data: " << paste_data << std::endl;
  });
```

The `paste` call takes the following arguments:
```cpp
  void paste(paste_handler callback,  // a callback to call with the paste data
             void *callback_data);    // optional data pointer to pass to your callback
```

The callback must have the following signature (defined as `emscripten_browser_clipboard::paste_handler`):

```cpp
  void my_paste_handler(std::string const &paste_data,  // text content of the pasted data sent to the browser
                        void *callback_data);           // the data pointer you passed to the paste function
```


## Limitations

At the time of writing, this only handles copying and pasting plain text.  It can be easily extended to handle arbitrary data - if I don't get round to doing this soon, please feel free to submit a pull request.

## Other useful libraries

You may also find the [Emscripten Browser File Library](https://github.com/Armchair-Software/emscripten-browser-file) useful - this allows you to transfer files using the browser upload / download interface, into memory in your C++ program.
